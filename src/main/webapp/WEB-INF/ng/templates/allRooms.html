
<div class="container">
<div class="well">
  <div data-ng-show="aData.message" class="alert alert-danger">
    {{aData.message}}
  </div>
<h1>Create Room</h1>
<form data-ng-submit="aData.createRoom()">
  <div class="form-group"> <!-- Name field -->
    <input class="form-control" type="text" placeholder="Name" data-ng-model="aData.newRoom.name"/>
  </div>
	
  <div class="form-group"> <!-- Description field -->
    <textarea class="form-control" placeholder="Description" data-ng-model="aData.newRoom.description"></textarea>
  </div>
	
  <div class="form-group"> <!-- Submit button -->
    <button class="btn btn-primary" type="submit">Create</button>
  </div>	

</form>
</div>
</div>
<table class="table table-responsive table-hover">
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Owner</th>
    <th>Created</th>
    <th>Closed</th>
  </tr>
  <tbody data-ng-repeat="room in aData.allRooms">
    <tr data-ng-click="aData.viewRoom(room.name)">
      <td>{{room.name}}</td>
      <td>{{room.description}}</td>
      <td>{{room.owner.username}}</td>
      <td>{{room.created | date}}</td>
      <td>
        {{(room.closed | date) || "OPEN"}}
		<div class="label label-danger clickable" data-ng-if="aData.authUser.name == room.owner.username && !room.closed" data-ng-click="aData.closeRoom(room.name);$event.stopPropagation();" uib-popover-template="'ng/templates/popovers/clickToCloseRoom.html'" popover-trigger="mouseenter">
		  Close
		</div>
        <div class="label label-success clickable" data-ng-if="aData.authUser.name == room.owner.username && room.closed" data-ng-click="aData.reopenRoom(room.name);$event.stopPropagation();" uib-popover-template="'ng/templates/popovers/clickToReopenRoom.html'" popover-trigger="mouseenter">
          Reopen
        </div>
      </td>
    </tr>
  </tbody>
</table>